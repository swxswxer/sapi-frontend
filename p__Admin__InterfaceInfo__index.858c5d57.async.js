"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{84942:function(ue,K,u){u.r(K),u.d(K,{default:function(){return o}});var X=u(15009),a=u.n(X),z=u(97857),g=u.n(z),Q=u(99289),m=u.n(Q),P=u(5574),R=u.n(P),O=u(74126),q=u(35312),D=u(17788),b=u(67294),c=u(85893),V=function(p){var n=p.visible,W=p.columns,C=p.onCancel,j=p.onSubmit;return(0,c.jsx)(D.Z,{visible:n,footer:null,onCancel:function(){return C==null?void 0:C()},children:(0,c.jsx)(O.Z,{type:"form",columns:W,onSubmit:function(){var S=m()(a()().mark(function _(y){return a()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:j==null||j(y);case 1:case"end":return w.stop()}},_)}));return function(_){return S.apply(this,arguments)}}()})})},$=V,ee=function(p){var n=p.values,W=p.visible,C=p.columns,j=p.onCancel,S=p.onSubmit,_=(0,b.useRef)();return(0,b.useEffect)(function(){if(_){var y;(y=_.current)===null||y===void 0||y.setFieldsValue(n)}},[n]),(0,c.jsx)(D.Z,{visible:W,footer:null,onCancel:function(){return j==null?void 0:j()},children:(0,c.jsx)(O.Z,{type:"form",formRef:_,columns:C,onSubmit:function(){var y=m()(a()().mark(function G(w){return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:S==null||S(w);case 1:case"end":return x.stop()}},G)}));return function(G){return y.apply(this,arguments)}}()})})},M=ee,T=u(85501),k=u(51042),Y=u(6110),A=u(2236),J=u(92276),h=u(2453),Z=u(14726),B=u(85265),l=function(){var p=(0,b.useState)(!1),n=R()(p,2),W=n[0],C=n[1],j=(0,b.useState)(!1),S=R()(j,2),_=S[0],y=S[1],G=(0,b.useState)(!1),w=R()(G,2),N=w[0],x=w[1],U=(0,b.useRef)(),se=(0,b.useState)(),ne=R()(se,2),I=ne[0],L=ne[1],ie=(0,b.useState)([]),re=R()(ie,2),F=re[0],ae=re[1],le=function(){var d=m()(a()().mark(function s(r){var i,f;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),console.log(r),e.prev=2,e.next=5,(0,T.WS)(g()({},r));case 5:return i(),h.ZP.success("\u521B\u5EFA\u6210\u529F"),C(!1),(f=U.current)===null||f===void 0||f.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(2),i(),h.ZP.error("\u521B\u5EFA\u5931\u8D25."+e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[2,12]])}));return function(r){return d.apply(this,arguments)}}(),oe=function(){var d=m()(a()().mark(function s(r){var i;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(I){t.next=2;break}return t.abrupt("return");case 2:return i=h.ZP.loading("\u4FEE\u6539\u4E2D"),t.prev=3,t.next=6,(0,T.fW)(g()({id:I.id},r));case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF0C"+t.t0.message),t.abrupt("return",!1);case 16:case"end":return t.stop()}},s,null,[[3,11]])}));return function(r){return d.apply(this,arguments)}}(),te=function(){var d=m()(a()().mark(function s(r){var i,f;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=h.ZP.loading("\u6B63\u5728\u5220\u9664"),r){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,T.gW)({id:r.id});case 6:return i(),h.ZP.success("\u5220\u9664\u6210\u529F"),(f=U.current)===null||f===void 0||f.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),i(),h.ZP.error("\u5220\u9664\u5931\u8D25,"+e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(r){return d.apply(this,arguments)}}(),ce=function(){var d=m()(a()().mark(function s(r){var i,f;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=h.ZP.loading("\u53D1\u5E03\u4E2D"),r){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,T.oq)({id:r.id});case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),(f=U.current)===null||f===void 0||f.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25,"+e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(r){return d.apply(this,arguments)}}(),de=function(){var d=m()(a()().mark(function s(r){var i,f;return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=h.ZP.loading("\u4E0B\u7EBF\u4E2D"),r){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,T.XH)({id:r.id});case 6:return i(),h.ZP.success("\u64CD\u4F5C\u6210\u529F"),(f=U.current)===null||f===void 0||f.reload(),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),i(),h.ZP.error("\u64CD\u4F5C\u5931\u8D25,"+e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(r){return d.apply(this,arguments)}}(),H=[{title:"\u5E8F\u53F7",dataIndex:"id",valueType:"index"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"name",valueType:"text",formItemProps:{rules:[{required:!0}]}},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",valueType:"text"},{title:"\u63A5\u53E3\u5730\u5740",dataIndex:"url",valueType:"text"},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",valueType:"textarea"},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",valueType:"jsonCode"},{title:"\u54CD\u5E94\u5934",dataIndex:"responseHeader",valueType:"jsonCode"},{title:"\u72B6\u6001",dataIndex:"status",hideInForm:!0,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",hideInForm:!0},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(s,r){return[(0,c.jsx)("a",{onClick:function(){y(!0),L(r)},children:"\u4FEE\u6539"},"config"),r.status===0?(0,c.jsx)("a",{type:"text",onClick:function(){ce(r)},children:"\u53D1\u5E03"},"config"):r.status===1?(0,c.jsx)(Z.ZP,{type:"text",danger:!0,onClick:function(){de(r)},children:"\u4E0B\u7EBF"},"config"):(0,c.jsx)(Z.ZP,{type:"text",danger:!0,onClick:function(){te(r)},children:"\u5220\u9664"},"config")]}}];return(0,c.jsxs)(Y._z,{children:[(0,c.jsx)(O.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:U,rowKey:"key",search:{labelWidth:120},scroll:{x:"max-content"},toolBarRender:function(){return[(0,c.jsxs)(Z.ZP,{type:"primary",onClick:function(){C(!0)},children:[(0,c.jsx)(k.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var d=m()(a()().mark(function s(r,i,f){var t;return a()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,T.eC)(g()({},r));case 2:if(t=E.sent,!(t!=null&&t.data)){E.next=7;break}return E.abrupt("return",{data:(t==null?void 0:t.data.records)||[],success:!0,total:(t==null?void 0:t.data.total)||0});case 7:return E.abrupt("return",{data:[],success:!1,total:0});case 8:case"end":return E.stop()}},s)}));return function(s,r,i){return d.apply(this,arguments)}}(),columns:H,rowSelection:{onChange:function(s,r){ae(r)}}}),(F==null?void 0:F.length)>0&&(0,c.jsxs)(A.S,{extra:(0,c.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,c.jsx)("a",{style:{fontWeight:100},children:F.length})," ","\u9879 \xA0\xA0"]}),children:[(0,c.jsx)(Z.ZP,{onClick:m()(a()().mark(function d(){var s,r;return a()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,te(F);case 2:ae([]),(s=U.current)===null||s===void 0||(r=s.reloadAndRest)===null||r===void 0||r.call(s);case 4:case"end":return f.stop()}},d)})),children:"\u6279\u91CF\u5220\u9664"}),(0,c.jsx)(Z.ZP,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,c.jsx)(M,{columns:H,onSubmit:function(){var d=m()(a()().mark(function s(r){var i;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe(r);case 2:i=t.sent,i&&(y(!1),L(void 0),U.current&&U.current.reload());case 4:case"end":return t.stop()}},s)}));return function(s){return d.apply(this,arguments)}}(),onCancel:function(){y(!1),N||L(void 0)},visible:_,values:I||{}}),(0,c.jsx)(B.Z,{width:600,open:N,onClose:function(){L(void 0),x(!1)},closable:!1,children:(I==null?void 0:I.name)&&(0,c.jsx)(J.vY,{column:2,title:I==null?void 0:I.name,request:m()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",{data:I||{}});case 1:case"end":return r.stop()}},d)})),params:{id:I==null?void 0:I.name},columns:H})}),(0,c.jsx)($,{columns:H,onCancel:function(){C(!1)},onSubmit:function(s){le(s)},visible:W})]})},o=l},85501:function(ue,K,u){u.d(K,{Ki:function(){return V},Qg:function(){return b},WS:function(){return R},XH:function(){return Y},eC:function(){return T},fW:function(){return Z},gW:function(){return q},oq:function(){return J}});var X=u(15009),a=u.n(X),z=u(97857),g=u.n(z),Q=u(99289),m=u.n(Q),P=u(35312);function R(l,o){return O.apply(this,arguments)}function O(){return O=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/add",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return n.stop()}},l)})),O.apply(this,arguments)}function q(l,o){return D.apply(this,arguments)}function D(){return D=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/delete",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return n.stop()}},l)})),D.apply(this,arguments)}function b(l,o){return c.apply(this,arguments)}function c(){return c=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/get",g()({method:"GET",params:g()({},o)},v||{})));case 1:case"end":return n.stop()}},l)})),c.apply(this,arguments)}function V(l,o){return $.apply(this,arguments)}function $(){return $=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/invoke",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return n.stop()}},l)})),$.apply(this,arguments)}function ee(l,o){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function l(o,v){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/interfaceInfo/list",_objectSpread({method:"GET",params:_objectSpread({},o)},v||{})));case 1:case"end":return n.stop()}},l)})),M.apply(this,arguments)}function T(l,o){return k.apply(this,arguments)}function k(){return k=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/list/page",g()({method:"GET",params:g()({},o)},v||{})));case 1:case"end":return n.stop()}},l)})),k.apply(this,arguments)}function Y(l,o){return A.apply(this,arguments)}function A(){return A=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/offline",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return n.stop()}},l)})),A.apply(this,arguments)}function J(l,o){return h.apply(this,arguments)}function h(){return h=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/online",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return n.stop()}},l)})),h.apply(this,arguments)}function Z(l,o){return B.apply(this,arguments)}function B(){return B=m()(a()().mark(function l(o,v){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,P.request)("/api/interfaceInfo/update",g()({method:"POST",headers:{"Content-Type":"application/json"},data:o},v||{})));case 1:case"end":return n.stop()}},l)})),B.apply(this,arguments)}}}]);
